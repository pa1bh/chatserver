<!doctype html>
<html lang="nl">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover, interactive-widget=resizes-content" />
    <meta name="ws-url" content="__WS_URL__" />
    <title>cbxchat</title>
    <link rel="stylesheet" href="/styles.css" />
  </head>
  <body>
    <main class="page">
      <header class="header">
        <button class="name-badge" id="nameBadge" type="button" title="Wijzig naam">
          <span id="currentName">Chatroom</span>
          <span class="name-edit">✎</span>
        </button>
        <div class="status" id="connectionStatus">Verbinden...</div>
      </header>

      <section class="chat">
        <div id="messages" class="messages" aria-live="polite"></div>
        <form id="chatForm" class="composer">
          <button type="button" class="composer-name" id="composerName" title="Wijzig naam">
            <span class="composer-name-text" id="composerNameText">?</span>
          </button>
          <input id="chatInput" type="text" placeholder="Bericht of /status /users /name /ping /ai" autocomplete="off" />
          <button type="submit" title="Verstuur">➔</button>
        </form>
      </section>

      <div id="nameModal" class="modal hidden">
        <div class="modal-backdrop"></div>
        <div class="modal-body">
          <h2>Wijzig naam</h2>
          <div class="modal-field">
            <input id="nickname" type="text" placeholder="naam" maxlength="32" />
            <button id="saveName" type="button" title="Sla naam op">Opslaan</button>
          </div>
          <button id="closeName" type="button" class="secondary">Sluiten</button>
        </div>
      </div>
    </main>

    <script src="/app.js" type="module"></script>
  </body>
</html>
